<!DOCTYPE html>
<html lang="en">
<head>
	<title>Extraordinary - Home</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
<header class="header">
	<h1 class="header__logo"><a class="link" href="#">Extra<span class="header__logo_bold">ordinary</span></a></h1>
	<nav class="header__nav">
		<div class="share header__item">
			<p class="share__item">share</p>
			<ul class="social social_hidden">
				<li class="social__item facebook"><a class="link facebook__icon social__link" href="#"><img class="facebook__img" src="img/facebook.png" alt=""></a><a class="link facebook__name social__link" href="#">facebook</a></li>
				<li class="social__item twitter"><a class="link twitter__icon social__link" href="#"><img class="twitter__img" src="img/twitter.png" alt=""></a><a class="link twitter__name social__link" href="#">twitter</a></li>
				<li class="social__item google"><a class="link google__icon social__link" href="#"><img class="google__img" src="img/google.png" alt=""></a><a class="link google__name social__link" href="#">google+</a></li>
				<li class="social__item pinterest"><a class="link pinterest__icon social__link" href="#"><img class="pinterest__img" src="img/pinterest.png" alt=""></a><a class="link pinterest__name social__link" href="#">pinterest</a></li>
		</ul>
		</div>
		<div class="search header__item">
			<label class="label">
				<input class="input" type="checkbox" name="search_check">
				<img class="search__img" src="img/search.png" alt="">
				<form action="index.html" method="post" class="search_hidden">
					  <input type="search" name="search" placeholder="Look for..." class="search__input" />
					  <input type="submit" name="submit" value="" class="search__submit" />
				</form>
			</label>
		</div>
		<div class="user header__item"><img class="user__img" src="img/user.png" alt=""></div>
	</nav>
</header>

<nav class="categories-nav">
	<ul class="categories-list">
		<li class="categories-list__item">
			<a class="link category" href="#"><img class="category__img" src="img/graphic.png" alt=""></a>
			<a class="link category_hidden graphic" href="#">graphic</a>
		</li>
		<li class="categories-list__item">
			<a class="link category" href="#"><img class="category__img" src="img/music.png" alt=""></a>
			<a class="link category_hidden music" href="#">music</a>
		</li>
		<li class="categories-list__item">
			<a class="link category" href="#"><img class="category__img" src="img/photography.png" alt=""></a>
			<a class="link category_hidden photography" href="#">photography</a>
		</li>
		<li class="categories-list__item">
			<a class="link category" href="#"><img class="category__img" src="img/cinema.png" alt=""></a>
			<a class="link category_hidden cinema" href="#">cinema</a>
		</li>
		<li class="categories-list__item">
			<a class="link category" href="#"><img class="category__img" src="img/business.png" alt=""></a>
			<a class="link category_hidden business" href="#">business</a>
		</li>
		<li class="categories-list__item">
			<a class="link category" href="#"><img class="category__img" src="img/travel.png" alt=""></a>
			<a class="link category_hidden travel" href="#">travel</a>
		</li>
		<li class="categories-list__item">
			<a class="link category" href="#"><img class="category__img" src="img/fashion.png" alt=""></a>
			<a class="link category_hidden fashion" href="#">fashion</a>
		</li>
		<li class="categories-list__item">
			<a class="link category" href="#"><img class="category__img" src="img/more.png" alt=""></a>
			<a class="link category_hidden more" href="#">more</a>
		</li>
		<li class="categories-list__item settings">
			<a class="link category" href="#"><img class="category__img" src="img/settings.png" alt=""></a>
			<a class="link category_hidden settings_hover" href="#">settings</a>
		</li>
	</ul>
</nav>
<section class="content">
<div class="masonry">
	<div class="masonry-brick">
	<article class="masonry-content article">
		<a class="link article__item" href="#">
			<img class="article__img" src="img/news1.jpg" alt="">
			<div class="overlay-red"></div>
			<div class="article__read-more"><p class="arrow">&#8594;</p><p class="text">read&nbsp;more</p></div>
			<div class="block"></div>
		</a>
		<div class="article__info">
			<div class="article__calendar">27 July 2013</div>
			<div class="article__comments">14 Comments</div>
		</div>
		<h2 class="article__heading"><a class="article__link" href="#">All sail being set, he now cast loose the life-line, reserved.</a></h2>
		<p class="article__text">Soon all the boats but Starbuck's were dropped; all the boat-sails set all the paddles plying; with rippling swiftness, shooting to leeward; and Ahab heading the onset. A pale, death-glimmer lit up Fedallah's sunken eyes; a hideous motion.</p>
	</article>
	</div>
	<div class="masonry-brick">
	<article class="masonry-content article">
		<a class="link article__item" href="#">
			<img class="article__img" src="img/news2.jpg" alt="">
			<div class="overlay-red"></div>
			<div class="article__read-more"><p class="arrow">&#8594;</p><p class="text">read&nbsp;more</p></div>
			<div class="block"></div>
		</a>
		<div class="article__info">
			<div class="article__calendar">25 July 2013</div>
			<div class="article__comments">19 Comments</div>
		</div>
		<h2 class="article__heading"><a class="article__link" href="#">Robin Thicke: Longest Hot 100 Reign This Year</a></h2>
		<p class="article__text">The line originally used in the fishery was of the best hemp, slightly vapoured with tar, not impregnated with it, as in the case of ordinary ropes; for while tar, as ordinarily used, makes the hemp more pliable to the rope-maker, Of late years the Manilla rope has in the American fishery almost entirely superseded hemp as.</p>
	</article>
	</div>
	<div class="masonry-brick">
	<article class="masonry-content article">
		<a class="link article__item" href="#">
			<img class="article__img" src="img/news3.jpg" alt="">
			<div class="overlay-red"></div>
			<div class="article__read-more"><p class="arrow">&#8594;</p><p class="text">read&nbsp;more</p></div>
			<div class="block"></div>
		</a>
		<div class="article__info">
			<div class="article__calendar">25 July 2013</div>
			<div class="article__comments">4 Comments</div>
		</div>
		<h2 class="article__heading"><a class="article__link" href="#">A-Rod, A Fraud, And A Waste Of Yankees Money, Public's Time</a></h2>
		<p class="article__text">Enough already.  I can’t take it no more.  Free us from enslavement to all this banter. OK, so my fit of anger this morning is not steroid-induced…though that would be fitting in light of recent discussions. Baseball talk of late has centered upon performance enhancing drugs.  Biogenesis has become the new BALCO.  A-Rod the new Barry Bonds. And all I hear from various media types are questions like.</p>
	</article>
	</div>
	<div class="masonry-brick">
	<article class="masonry-content article">
		<a class="link article__item" href="#">
			<img class="article__img" src="img/news4.jpg" alt="">
			<div class="overlay-red"></div>
			<div class="article__read-more"><p class="arrow">&#8594;</p><p class="text">read&nbsp;more</p></div>
			<div class="block"></div>
		</a>
		<div class="article__info">
			<div class="article__calendar">23 July 2013</div>
			<div class="article__comments">2 Comments</div>
		</div>
		<h2 class="article__heading"><a class="article__link" href="#">A Strange Brand of Happy</a></h2>
		<p class="article__text">An aimless bachelor loses his job and finds himself chasing the same girl (his new life coach) that is manipulative ex-boss is after as well. The boys are spurred on by a rag tag group of retirees in need of some action.</p>
	</article>
	</div>
	<div class="masonry-brick">
	<article class="masonry-content article">
		<a class="link article__item" href="#">
			<img class="article__img" src="img/news5.jpg" alt="">
			<div class="overlay-red"></div>
			<div class="article__read-more"><p class="arrow">&#8594;</p><p class="text">read&nbsp;more</p></div>
			<div class="block"></div>
		</a>
		<div class="article__info">
			<div class="article__calendar">22 July 2013</div>
			<div class="article__comments">24 Comments</div>
		</div>
		<h2 class="article__heading"><a class="article__link" href="#">The whale-line is only two-thirds of an inch in thickness</a></h2>
		<p class="article__text">At first sight, you would not think it so strong as it really is. By experiment its one and fifty arns will each suspend a weight of one hundred and twenty pounds; so that the whole rope will bear a strain nearly equal to three tons. </p>
	</article>
	</div>
	<div class="masonry-brick advertise">
		<div class="masonry-content article"><a class="link" href="#"><img class="article__img" src="img/advertise.jpg" alt=""></a></div>
	</div>
	</div><!--end .masonry-->
</section>

<script>
	/**
 * Set appropriate spanning to any masonry item
 *
 * Get different properties we already set for the masonry, calculate 
 * height or spanning for any cell of the masonry grid based on its 
 * content-wrapper's height, the (row) gap of the grid, and the size 
 * of the implicit row tracks.
 *
 * @param item Object A brick/tile/cell inside the masonry
 */
function resizeMasonryItem(item){
  /* Get the grid object, its row-gap, and the size of its implicit rows */
  var grid = document.getElementsByClassName('masonry')[0],
      rowGap = parseInt(window.getComputedStyle(grid).getPropertyValue('grid-row-gap')),
      rowHeight = parseInt(window.getComputedStyle(grid).getPropertyValue('grid-auto-rows'));

  /*
   * Spanning for any brick = S
   * Grid's row-gap = G
   * Size of grid's implicitly create row-track = R
   * Height of item content = H
   * Net height of the item = H1 = H + G
   * Net height of the implicit row-track = T = G + R
   * S = H1 / T
   */
  var rowSpan = Math.ceil((item.querySelector('.masonry-content').getBoundingClientRect().height+rowGap)/(rowHeight+rowGap));

  /* Set the spanning as calculated above (S) */
  item.style.gridRowEnd = 'span '+rowSpan;
}
/**
 * Apply spanning to all the masonry items
 *
 * Loop through all the items and apply the spanning to them using 
 * `resizeMasonryItem()` function.
 *
 * @uses resizeMasonryItem
 */
function resizeAllMasonryItems(){
  // Get all item class objects in one list
  var allItems = document.getElementsByClassName('masonry-brick');

  /*
   * Loop through the above list and execute the spanning function to
   * each list-item (i.e. each masonry item)
   */
  for(var i=0;i<allItems.length;i++){
    resizeMasonryItem(allItems[i]);
  }
}
/**
 * Resize the items when all the images inside the masonry grid 
 * finish loading. This will ensure that all the content inside our
 * masonry items is visible.
 *
 * @uses ImagesLoaded
 * @uses resizeMasonryItem
 */
function waitForImages() {
  var allItems = document.getElementsByClassName('masonry-brick');
  for(var i=0;i<allItems.length;i++){
    imagesLoaded( allItems[i], function(instance) {
      var item = instance.elements[0];
      resizeMasonryItem(item);
    } );
  }
}
/* Resize all the grid items on the load and resize events */
var masonryEvents = ['load', 'resize'];
masonryEvents.forEach( function(event) {
  window.addEventListener(event, resizeAllMasonryItems);
} );
/* Do a resize once more when all the images finish loading */
waitForImages();
</script>
<script>
	var SupportsCSS = function (property, value) {
    try {
        var element = document.createElement('span');
        if (element.style[property] !== undefined) 
            element.style[property] = value;
        else 
            return false;

        return element.style[property] === value;
    } catch (e) {
        return false;
    }
};

// Проверяем
if ( SupportsCSS('display', 'grid') == false ) {

function loadCss(href) {
    var link = document.createElement("link");
    link.rel = "stylesheet";
    link.href = href;
    document.head.appendChild(link);
}
loadCss("no-grid.css");
}
</script>

</body>
</html>